{{- if or (eq .chezmoi.os "darwin") (eq .chezmoi.os "linux") }}

# ------------------------------
# Oh My Zsh bootstrap
# ------------------------------
export ZSH="$HOME/.oh-my-zsh"

plugins=(
  git
  zsh-autosuggestions
  zsh-syntax-highlighting
  docker
  vscode
  {{- if eq .chezmoi.os "darwin" }}
  macos
  {{- end }}
)

source "$ZSH/oh-my-zsh.sh"

# ------------------------------
# Environment & custom config
# ------------------------------
source ~/.zsh/env.zsh
source ~/.zsh/aliases.zsh
source ~/.zsh/functions.zsh

# ------------------------------
# Completion
# ------------------------------
autoload -Uz compinit
zstyle ':completion:*' menu select
zstyle ':completion:*' rehash true
compinit -C

# ------------------------------
# Oh My Posh prompt
# ------------------------------
if command -v oh-my-posh >/dev/null 2>&1; then
  eval "$(oh-my-posh init zsh --config ~/.themes/ZSHThemes.json)"
fi

export TERM=xterm-256color

{{ end }}
